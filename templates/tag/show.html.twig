{% extends 'base.html.twig' %}

{% block title %}Tag{% endblock %}

{% block body %}
    <div class="prose prose-h1:text-balance pt-12 mx-auto max-w-screen-lg w-full prose-p:text-black prose-p:text-lg prose-p:font-light">

        <div>
            <h1 class="">{{ tag.title }}</h1>
        </div>

        {% if is_granted('IS_AUTHENTICATED_FULLY') %}
            <a href="{{ path('app_tag_edit', {'id': tag.id}) }}">edit</a>

            {{ include('tag/_delete_form.html.twig') }}
        {% endif %}

        <a href="{{ path('app_tag_index') }}">back to list</a>

        <div>
            {% for blog_post in pager %}
                <div>
                    <a href="{{ path('app_blog_post_show', {'slug': blog_post.slug}) }}">
                        <div class="max-w-4xl mx-auto mt-5 p-5">
                            <div class="flex items-start bg-white shadow-lg rounded-lg overflow-hidden">
                                <!-- Image Section -->
                                <div class="w-1/4">
                                    {% if blog_post.banner %}
                                        <img
                                            width="400"
                                            src="{{ blog_post.blurredThumbnail }}"
                                            alt="{{ blog_post.title }}"
                                            class="object-cover w-16"
                                            {{ stimulus_controller('symfony/ux-lazy-image/lazy-image', {
                                                src: asset(uploaded_banner_low(blog_post.banner))
                                            }) }}
                                        >
                                    {% else %}
                                        <div class="min-h-full h-72 flex justify-center items-center bg-gray-200 rounded-3xl fill-gray-500">
                                            <svg xmlns="http://www.w3.org/2000/svg" height="54" viewBox="0 -960 960 960" width="54">
                                                <path d="M480-290.769q62.692 0 105.962-43.269 43.269-43.27 43.269-105.962t-43.269-105.962Q542.692-589.231 480-589.231t-105.962 43.269Q330.769-502.692 330.769-440t43.269 105.962q43.27 43.269 105.962 43.269Zm0-40q-46.615 0-77.923-31.308T370.769-440q0-46.615 31.308-77.923T480-549.231q46.615 0 77.923 31.308T589.231-440q0 46.615-31.308 77.923T480-330.769ZM184.615-160Q157-160 138.5-178.5 120-197 120-224.615v-430.77Q120-683 138.5-701.5 157-720 184.615-720h118.308l54.615-59.385q8.693-9.692 21.116-15.154Q391.077-800 405-800h150q13.923 0 26.346 5.461 12.423 5.462 21.116 15.154L657.077-720h118.308Q803-720 821.5-701.5 840-683 840-655.385v430.77Q840-197 821.5-178.5 803-160 775.385-160h-590.77Zm0-40h590.77q10.769 0 17.692-6.923T800-224.615v-430.77q0-10.769-6.923-17.692T775.385-680H639.538l-73.769-80H394.231l-73.769 80H184.615q-10.769 0-17.692 6.923T160-655.385v430.77q0 10.769 6.923 17.692T184.615-200ZM480-440Z"/>
                                            </svg>
                                        </div>
                                    {% endif %}
                                </div>
                                <!-- Content Section -->
                                <div class="w-3/4">
                                    <h2 class="text-xl font-bold mb-2">{{ blog_post.title }}</h2>
                                    <p class="text-gray-700">{{ blog_post.summary }}</p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            {% endfor %}
        </div>



    </div>
{% endblock %}
